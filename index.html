<!DOCTYPE html>
<html>


<body>
	<table>
		<tr>
			<td>Eigenvalue 1</td>
			<td><input id="eigen1" type="range" min ="0" max="300" value="100" /></td>
		</tr>
		<tr>
			<td>Eigenvalue 2</td>
			<td><input id="eigen2" type="range" min ="0" max="300" value="100" /></td>
		</tr>
		<tr>
			<td>Theta 1</td>
			<td><input id="theta1" type="range" min ="0" max="628.318530718" value="0" /></td>
		</tr>
	</table>

	<script>
		var canvas = document.createElement('canvas')
		var context = canvas.getContext('2d')
		var x = 0
		var y = 0


		// Eigenvalues
		var eigen1 = document.getElementById('eigen1')
		eigen1.addEventListener('input', function()
		{
			draw(x, y)
		})

		var eigen2 = document.getElementById('eigen2')
		eigen2.addEventListener('input', function()
		{
			draw(x, y)
		})

		// Theta for eigenvectors

		var theta1 = document.getElementById('theta1')
		theta1.addEventListener('input', function()
		{
			draw(x, y)
			// console.log(theta1)
		})

		document.body.appendChild(canvas)

		canvas.width = 500
		canvas.height = 500

		function draw (x, y)
		{

			context.clearRect(0, 0, canvas.width, canvas.height)

			for (i = 0; i < 1000*4; i++)
			{

				x_i = ( x[i] * Math.cos(theta1.value/100) + y[i] * -Math.sin(theta1.value/100) ) * eigen1.value/100
				y_i = ( x[i] * Math.sin(theta1.value/100) + y[i] * Math.cos(theta1.value/100) ) * eigen2.value/100

				context.beginPath()
				context.fillStyle = "Black";
				context.rect(250 + x_i * 50, 250 + y_i * 50, 4, 4)
				context.fill()
				// context.restore();
				context.fillStyle = "Red";
				context.rect(250 + x[i] * 50, 250 + y[i] * 50, 4, 4)
				context.fill()

			}


		}


		function square(points)
		{

			var x_first_quadrant = []	// storing x values
			var y_first_quadrant = []

			for (i = 0; i < points; i++)
			{
				x_first_quadrant.push( i / (points - 1) )		// normalizing to get a unit circle
				y_first_quadrant.push( i / (points - 1) )				
			}

			var x_0 = x_first_quadrant.map(function(x) { return 0; });
			var x_1 = x_first_quadrant.map(function(x) { return 1; });
			x_first_quadrant = x_first_quadrant.concat(x_1, x_first_quadrant, x_0)
			var y_0 = y_first_quadrant.map(function(x) { return 0; });
			var y_1 = y_first_quadrant.map(function(x) { return 1; });
			y_first_quadrant = y_0.concat(y_first_quadrant, y_1, y_first_quadrant)


			return [x_first_quadrant, y_first_quadrant]
		}


		var square = square(1000)
		x = square[0]
		y = square[1]
		draw(x, y)

	</script>
</body>




</html>
